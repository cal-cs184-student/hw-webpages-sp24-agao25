<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=ZWjJg3Z-BmxuodZeCNuZK1XXWJorhxyFDZ_kYLKF3KU);ul.lst-kix_6v9iffej7q6j-6{list-style-type:none}ul.lst-kix_6v9iffej7q6j-7{list-style-type:none}ul.lst-kix_6v9iffej7q6j-8{list-style-type:none}ul.lst-kix_sr2tdz6swaxw-8{list-style-type:none}ul.lst-kix_sr2tdz6swaxw-7{list-style-type:none}ul.lst-kix_sr2tdz6swaxw-6{list-style-type:none}ul.lst-kix_sr2tdz6swaxw-5{list-style-type:none}ul.lst-kix_sr2tdz6swaxw-4{list-style-type:none}ul.lst-kix_lf7xnge9jsfa-8{list-style-type:none}ul.lst-kix_lf7xnge9jsfa-7{list-style-type:none}ul.lst-kix_lf7xnge9jsfa-6{list-style-type:none}ul.lst-kix_6v9iffej7q6j-0{list-style-type:none}ul.lst-kix_lf7xnge9jsfa-5{list-style-type:none}ul.lst-kix_6v9iffej7q6j-1{list-style-type:none}ul.lst-kix_6v9iffej7q6j-2{list-style-type:none}ul.lst-kix_6v9iffej7q6j-3{list-style-type:none}ul.lst-kix_6v9iffej7q6j-4{list-style-type:none}ul.lst-kix_6v9iffej7q6j-5{list-style-type:none}ul.lst-kix_lf7xnge9jsfa-0{list-style-type:none}ul.lst-kix_lf7xnge9jsfa-4{list-style-type:none}ul.lst-kix_lf7xnge9jsfa-3{list-style-type:none}ul.lst-kix_lf7xnge9jsfa-2{list-style-type:none}ul.lst-kix_lf7xnge9jsfa-1{list-style-type:none}ul.lst-kix_1bk8v5bx4wak-7{list-style-type:none}ul.lst-kix_1bk8v5bx4wak-8{list-style-type:none}ul.lst-kix_1bk8v5bx4wak-5{list-style-type:none}ul.lst-kix_1bk8v5bx4wak-6{list-style-type:none}ul.lst-kix_1bk8v5bx4wak-3{list-style-type:none}ul.lst-kix_1bk8v5bx4wak-4{list-style-type:none}ul.lst-kix_1bk8v5bx4wak-1{list-style-type:none}ul.lst-kix_1bk8v5bx4wak-2{list-style-type:none}ul.lst-kix_8du6g8qmhh2-0{list-style-type:none}ul.lst-kix_1bk8v5bx4wak-0{list-style-type:none}ul.lst-kix_nb1vvxtky3oh-8{list-style-type:none}.lst-kix_sr2tdz6swaxw-5>li:before{content:"\0025a0   "}.lst-kix_sr2tdz6swaxw-7>li:before{content:"\0025cb   "}ul.lst-kix_nb1vvxtky3oh-6{list-style-type:none}ul.lst-kix_nb1vvxtky3oh-7{list-style-type:none}ul.lst-kix_nb1vvxtky3oh-4{list-style-type:none}ul.lst-kix_nb1vvxtky3oh-5{list-style-type:none}.lst-kix_sr2tdz6swaxw-2>li:before{content:"\0025a0   "}.lst-kix_sr2tdz6swaxw-6>li:before{content:"\0025cf   "}ul.lst-kix_nb1vvxtky3oh-2{list-style-type:none}ul.lst-kix_nb1vvxtky3oh-3{list-style-type:none}ul.lst-kix_nb1vvxtky3oh-0{list-style-type:none}ul.lst-kix_nb1vvxtky3oh-1{list-style-type:none}.lst-kix_sr2tdz6swaxw-1>li:before{content:"\0025cb   "}.lst-kix_sr2tdz6swaxw-0>li:before{content:"\0025cf   "}.lst-kix_sr2tdz6swaxw-8>li:before{content:"\0025a0   "}.lst-kix_lf7xnge9jsfa-3>li:before{content:"\0025cf   "}.lst-kix_lf7xnge9jsfa-2>li:before{content:"\0025a0   "}ul.lst-kix_sr2tdz6swaxw-3{list-style-type:none}ul.lst-kix_sr2tdz6swaxw-2{list-style-type:none}ul.lst-kix_sr2tdz6swaxw-1{list-style-type:none}.lst-kix_lf7xnge9jsfa-1>li:before{content:"\0025cb   "}ul.lst-kix_sr2tdz6swaxw-0{list-style-type:none}.lst-kix_sr2tdz6swaxw-3>li:before{content:"\0025cf   "}.lst-kix_lf7xnge9jsfa-0>li:before{content:"\0025cf   "}.lst-kix_sr2tdz6swaxw-4>li:before{content:"\0025cb   "}.lst-kix_6v9iffej7q6j-8>li:before{content:"\0025a0   "}.lst-kix_6v9iffej7q6j-7>li:before{content:"\0025cb   "}.lst-kix_lf7xnge9jsfa-4>li:before{content:"\0025cb   "}.lst-kix_6v9iffej7q6j-4>li:before{content:"\0025cb   "}.lst-kix_6v9iffej7q6j-5>li:before{content:"\0025a0   "}.lst-kix_lf7xnge9jsfa-5>li:before{content:"\0025a0   "}.lst-kix_nb1vvxtky3oh-6>li:before{content:"\0025cf   "}.lst-kix_nb1vvxtky3oh-8>li:before{content:"\0025a0   "}.lst-kix_6v9iffej7q6j-6>li:before{content:"\0025cf   "}.lst-kix_6v9iffej7q6j-2>li:before{content:"\0025a0   "}.lst-kix_6v9iffej7q6j-3>li:before{content:"\0025cf   "}.lst-kix_lf7xnge9jsfa-6>li:before{content:"\0025cf   "}.lst-kix_nb1vvxtky3oh-7>li:before{content:"\0025cb   "}ul.lst-kix_8du6g8qmhh2-8{list-style-type:none}ul.lst-kix_8du6g8qmhh2-7{list-style-type:none}ul.lst-kix_8du6g8qmhh2-6{list-style-type:none}.lst-kix_lf7xnge9jsfa-7>li:before{content:"\0025cb   "}.lst-kix_nb1vvxtky3oh-4>li:before{content:"\0025cb   "}ul.lst-kix_8du6g8qmhh2-5{list-style-type:none}ul.lst-kix_8du6g8qmhh2-4{list-style-type:none}ul.lst-kix_8du6g8qmhh2-3{list-style-type:none}ul.lst-kix_8du6g8qmhh2-2{list-style-type:none}.lst-kix_lf7xnge9jsfa-8>li:before{content:"\0025a0   "}.lst-kix_nb1vvxtky3oh-5>li:before{content:"\0025a0   "}ul.lst-kix_8du6g8qmhh2-1{list-style-type:none}.lst-kix_nb1vvxtky3oh-0>li:before{content:"\0025cf   "}.lst-kix_nb1vvxtky3oh-3>li:before{content:"\0025cf   "}.lst-kix_6v9iffej7q6j-0>li:before{content:"\0025cf   "}.lst-kix_6v9iffej7q6j-1>li:before{content:"\0025cb   "}.lst-kix_nb1vvxtky3oh-2>li:before{content:"\0025a0   "}.lst-kix_nb1vvxtky3oh-1>li:before{content:"\0025cb   "}.lst-kix_8du6g8qmhh2-0>li:before{content:"\0025cf   "}.lst-kix_8du6g8qmhh2-1>li:before{content:"\0025cb   "}.lst-kix_8du6g8qmhh2-4>li:before{content:"\0025cb   "}.lst-kix_8du6g8qmhh2-2>li:before{content:"\0025a0   "}.lst-kix_8du6g8qmhh2-3>li:before{content:"\0025cf   "}.lst-kix_8du6g8qmhh2-8>li:before{content:"\0025a0   "}.lst-kix_8du6g8qmhh2-5>li:before{content:"\0025a0   "}.lst-kix_8du6g8qmhh2-6>li:before{content:"\0025cf   "}.lst-kix_8du6g8qmhh2-7>li:before{content:"\0025cb   "}.lst-kix_1bk8v5bx4wak-3>li:before{content:"\0025cf   "}.lst-kix_1bk8v5bx4wak-5>li:before{content:"\0025a0   "}.lst-kix_1bk8v5bx4wak-4>li:before{content:"\0025cb   "}.lst-kix_1bk8v5bx4wak-8>li:before{content:"\0025a0   "}.lst-kix_1bk8v5bx4wak-7>li:before{content:"\0025cb   "}.lst-kix_1bk8v5bx4wak-6>li:before{content:"\0025cf   "}.lst-kix_1bk8v5bx4wak-0>li:before{content:"\0025cf   "}.lst-kix_1bk8v5bx4wak-1>li:before{content:"\0025cb   "}.lst-kix_1bk8v5bx4wak-2>li:before{content:"\0025a0   "}ol{margin:0;padding:0}table td,table th{padding:0}.c0{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:270pt;border-top-color:#000000;border-bottom-style:solid}.c2{color:#333333;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Nunito";font-style:normal}.c9{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Nunito";font-style:normal}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c19{padding-top:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c14{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c15{color:#000000;font-weight:400;font-size:11pt;font-family:"Nunito"}.c12{font-size:10pt;font-family:"Nunito";color:#333333;font-weight:700}.c16{color:#000000;font-weight:400;font-size:18pt;font-family:"Nunito"}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c7{font-size:12pt;font-family:"Nunito";color:#333333;font-weight:700}.c18{font-size:12pt;font-family:"Nunito";color:#333333;font-weight:400}.c6{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c8{border-spacing:0;border-collapse:collapse;margin-right:auto}.c25{background-color:#ffffff;max-width:540pt;padding:36pt 36pt 36pt 36pt}.c22{font-weight:400;font-size:16pt;font-family:"Nunito"}.c20{font-weight:400;font-size:14pt;font-family:"Nunito"}.c23{font-weight:700;font-size:11pt;font-family:"Nunito"}.c21{font-size:12pt;font-family:"Nunito";font-weight:700}.c11{text-decoration:none;vertical-align:baseline;font-style:normal}.c13{font-size:14pt;font-family:"Nunito";font-weight:700}.c17{color:#000000}.c3{height:0pt}.c10{font-style:italic}.c24{background-color:#ffff00}.c5{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c25 doc-content"><p class="c14"><span class="c16 c11">CS 184: Computer Graphics and Imaging, Spring 2024</span></p><p class="c14"><span class="c11 c16">Project 3-1: Path Tracer</span></p><p class="c14"><span class="c11 c17 c22">Grace Liu and ALex Gao</span></p><p class="c14"><span class="c20 c11 c17">Website URL: https://cal-cs184-student.github.io/hw-webpages-sp24-agao25/</span></p><p class="c1 c5"><span class="c15 c11"></span></p><p class="c14"><span class="c13">Overview </span></p><p class="c1"><span class="c9">In this homework assignment, we implemented several path tracing algorithms consisting of ray generation, BVH acceleration structures, realistic and physically based lighting, and adaptive sampling. We ran into some segfault issues and infinite looping, so stepping into the debugger and using print statements was critical to evaluating our algorithms and variables. We also had to take advantage of cell render mode so as to not waste time waiting to see our rendered images and then debug the code. Understanding what the homework was asking to be implemented was also confusing at times, so drawing proper diagrams and revisiting lecture pseudo code was helpful. While this project took a lot of work and was really intensive, it was really interesting to see how we could render our own images and make them realistic by using ray tracing to replicate realistic lighting. It also was very apparent how critical optimizations in ray tracing are, especially considering how long the renders took on our own devices. </span></p><p class="c1 c5"><span class="c9"></span></p><p class="c14"><span class="c13">Part 1: Ray Generation and Scene Intersection (20 Points)</span></p><p class="c1"><span class="c7 c11">Walk through the ray generation and primitive intersection parts of the rendering pipeline.</span></p><p class="c1"><span class="c18">We begin the rendering pipeline by converting coordinates from image space to camera space, and then creating a local camera ray that when transformed into world space, can be utilized for our use in data structures and advanced rendering. Now that we can generate camera rays, we can specify a number of rays to be generated and track them throughout a scene. With these rays, we can also begin to estimate scene illumination. With our various camera rays, we can evaluate if they are intersecting a triangle or sphere by evaluating the intersection of the relevant vectors between the mesh and the normals. Based on the function, we will check our t parameterization, update the t_low and t_high, and then potentially identify the closest intersection. Now, we are able to begin to render scenes. </span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7">Explain the triangle intersection algorithm you implemented in your own words</span><span class="c7">.</span></p><p class="c1"><span class="c2">In our triangle intersection algorithm, we had two functions: one to check if there was an intersection (has_intersection) and one to check for an intersection as well as update for the closest intersection (intersect). In both has_intersection and intersect, we used the Moller Trumbore algorithm to calculate when and where a ray intersects the surface. </span></p><p class="c14 c5"><span class="c2"></span></p><p class="c14"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 427.16px; height: 291.50px;"><img alt="" src="images/image20.png" style="width: 427.16px; height: 291.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c2">Implementing this allows us to use position vectors from the triangle mesh and vectors that stem from the input ray to calculate 2 barycentric coordinates and the distance from the ray origin to the intersection point. We&rsquo;ll update our t_max value to be t if t is between our t_min and t_max, and use the 2 calculated barycentric coordinates to find the last one. Using barycentric coordinates, we solved for the vertex normals at each of the triangle&rsquo;s three vertices. In checking the dot product between position vectors and the ray, we checked if the calculated t value fit within the given bounds, and if so, updated accordingly. In intersect, we used has_intersection as a helper function and re-evaluated the triangle mesh and ray to return the intersection normal and assign the BSDF.</span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c2">We also implemented sphere intersection with very similar logic to triangle intersection, but our equations are a little different now because of the circular geometry. The surface normals are also able to be calculated analytically as its the vector from the center of the sphere to the intersection point p. </span></p><p class="c14"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 448.50px; height: 315.10px;"><img alt="" src="images/image18.png" style="width: 448.50px; height: 315.10px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7">Show images with normal shading for a few small </span><span class="c7 c10">.dae</span><span class="c7 c11">&nbsp;files.</span></p><a id="t.ee12e59c1ac85961c9a6e73ee4f6bab87f34a490"></a><a id="t.0"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image11.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Banana</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image30.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Cow</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image46.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Teapot</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image6.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Peter</span></p></td></tr></table><p class="c1 c5"><span class="c15 c11"></span></p><p class="c14"><span class="c11 c13 c17">Part 2: Bounding Volume Hierarchy (20 Points)</span></p><p class="c1"><span class="c7 c11">Walk through your BVH construction algorithm. Explain the heuristic you chose for picking the splitting point.</span></p><p class="c1"><span class="c2">Our Bounding Volume Hierarchy (BVH) construction algorithm is reliant on the fact that a BVH is essentially a fancier binary tree. There is one root node, left and right children in between, and the finally leaf nodes at the &ldquo;bottom.&rdquo; The BVH construction also relies on our bounding box and how the bounding box is reduced and separated as children nodes have smaller bounding boxes that contain fewer primitives (ex. triangles). Firstly, we initialized a new BVHNode and established the bounding box of a list of primitives that we are working with. From there, we defined the heuristic for which we would split the bounding box into &ldquo;left&rdquo; and &ldquo;right&rdquo; children nodes until these nodes consisted of no more than max_leaf_size primitives, thus becoming leaf nodes. In our algorithm, we calculated the ranges of each axis of the bounding box of primitives and used various logic comparisons to determine which axis had the maximum difference. The midpoint of this axis would split the bounding box and recursively construct subtrees until we had leaf nodes. Primitives would thus be divided into smaller bounding boxes as they were grouped into smaller and smaller children nodes, eventually reaching a leaf node. Using this data structure, by examining ray intersections of the bounding box, we can quickly rule out which primitives won&rsquo;t be intersected in the BVH and examine only those primitives relevant in the intersection calculations. </span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7">Show images with normal shading for a few large </span><span class="c7 c10">.dae</span><span class="c7 c11">&nbsp;files that you can only render with BVH acceleration.</span></p><a id="t.21ae812d889fd78e69b1cd55c0db9161a5f0f410"></a><a id="t.1"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image35.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Beast</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image12.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c2">Blob</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image50.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">MaxPlanck</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image7.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c2">CBLucy</span></p></td></tr></table><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7">Compare rendering times on a few scenes with moderately complex geometries with and without BVH acceleration. Present your results in a one-paragraph analysis.</span></p><p class="c1"><span class="c9">Comparing a few scenes, banana.dae took 1.334 seconds to render in part 1 without BVH acceleration but in part 2 with BVH acceleration, rendered in 0.0666 seconds. Cow.dae in part 1 took 2.8237 seconds to render while in part 2, rendered in 0.1160 seconds. In part 1, CBlucy.dae took 138.6011 seconds to render while it rendered in 0.0638 seconds in part 2. Wall-e.dae took 398.266 seconds to render in part 1 compared to 0.1917 seconds in part 2. We can clearly see that BVH acceleration greatly sped up the rendering time of various types of scene images. </span></p><p class="c1 c5"><span class="c11 c15"></span></p><p class="c14"><span class="c11 c13 c17">Part 3: Direct Illumination (20 Points)</span></p><p class="c1"><span class="c7 c11">Walk through both implementations of the direct lighting function.</span></p><p class="c1"><span class="c2">Uniform hemisphere sampling is a method for us to evaluate a point and estimate its direct lighting by sampling the surrounding light uniformly in a hemisphere around the point. To begin, we need to calculate the reflected light after a camera ray has interacted with a point in world space and thus will estimate all the light that arrived at that point. Instead of using an integral, we can use a Monte Carlo estimate. In our algorithm, we evaluated all of the rays by evaluating intersections and making adjustments to ensure the hit point is not below the surface. This might cause us issues in summation later. Once we have a value for the amount of incoming light, we utilize the reflection equation and apply the BSDF, direction, and ratio between the incoming and outgoing rays to calculate the outgoing light. We also updated our wrapped function and global radiance estimator to include this addition of light bounce. </span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c18">Importance sampling is very similar to uniform hemisphere sampling, except now we want to also sample the directions between our intersection points and the light source. Uniform hemisphere sampling gave us a nice even approximation to solve for lighting, but that resulted in noisy pictures. We can improve our results by sampling where we expect more contributions to the summation of incoming light, &nbsp;looping over the pointers of light and evaluating each of their intersections with the world by creating &ldquo;shadow&rdquo; rays. Our calculation again will involve BSDF, direction, emittance, and also the probability distribution function we are working with. If the light is not a point light source, we need to calculate our shadows and use Monte Carlo again to evaluate the lighting for each pointer. </span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7 c11">Show some images rendered with both implementations of the direct lighting function.</span></p><a id="t.f627556d38f7fcab52950ba3c5f01c8d306d3127"></a><a id="t.2"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image23.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Uniform Hemisphere Sampling Bunny</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image24.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Importance Light Sampling Bunny</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image34.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Uniform Hemisphere Sampling CBspheres_lambertian</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image31.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Importance Light Sampling CBspheres_lambertian</span></p></td></tr></table><p class="c1 c5"><span class="c2"></span></p><p class="c1 c5"><span class="c7 c11"></span></p><a id="t.675e5b00fa82e325e7cb7662e33f8e5653a8b495"></a><a id="t.3"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image40.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">1 Light Ray Bunny</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image44.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">4 Light Ray Bunny</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image37.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">16 Light Ray Bunny</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image27.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">64 Light Ray Bunny</span></p></td></tr></table><p class="c1"><span class="c7">Focus on one particular scene with at least one area light and compare the noise levels in soft shadows when rendering with 1, 4, 16, and 64 light rays (the </span><span class="c12">-l</span><span class="c7">&nbsp;flag) and with 1 sample per pixel (the </span><span class="c12">-s</span><span class="c7 c11">&nbsp;flag) using light sampling, not uniform hemisphere sampling.</span></p><p class="c1 c5"><span class="c7 c11"></span></p><p class="c1"><span class="c7">Explanation: </span><span class="c18">We can see that as the number of light rays is increased the image quality gets less noisy and better. The bunny&rsquo;s shadow is also not quite correct when rendered at lower numbers of light rays but it becomes more real as more light rays blend the shadow visualization properly. </span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7 c11">Compare the results between uniform hemisphere sampling and lighting sampling in a one-paragraph analysis.</span></p><p class="c1"><span class="c2">Overall, we can see that uniform hemisphere sampling results in grainier and noisier photos when directly compared to importance sampling for the same initial parameters. In only sampling the hemisphere for rays at a point, we miss the contribution of many rays since the shadow rays cast will likely not intersect a light source and thus, we see spotty dark areas and patches. With importance sampling though, we are only examining rays that directly contribute to our result at the surface and intersect with a light source. This results in better images and allows importance sampling to converge sooner to a nicer image. </span></p><p class="c1 c5"><span class="c15 c11"></span></p><p class="c14"><span class="c11 c17 c20">Part 4: Global Illumination (20 Points)</span></p><p class="c1"><span class="c7 c11">Walk through your implementation of the indirect lighting function.</span></p><p class="c1"><span class="c2">In global illumination, now we want to evaluate lighting not only directly from the light source(s), but also as the light bounces off other surfaces and arrives at another intersection point (indirect lighting). This will further increase the quality of our images. For up to N bounces of light, our algorithm will call zero_bounce_radiance and one_bounce_radiance. This will be summed on top of calls to at_least_one_bounce_radiance and recursively calling at_least_one_bounce_radiance until it reaches the number of bounces specified. This means that as camera rays disperse in the scene, we need to track how they might bounce in various directions and how much light is at that location given the number of bounces, light sources, etc. We have termination conditions if the ray&rsquo;s depth is too small and also with some probability based on our Russian roulette. For our algorithm, the termination probability was 0.3. As the rays are continually called at intersection points, we find new ray vectors of incoming lighting by sampling new rays from the BSDF of w_out, a continuous probability distribution, and w_i in world space (transformed via the o2w matrix). If there is an intersection between the BVH and the new rays, we accumulate their radiance and account for the indirect lighting&rsquo;s weight via BSDF and cosine of w_in. We&rsquo;ve implemented Russian Roulette to address the fact that declaring a maximum ray depth will lead to a biased result. We also can&rsquo;t iterate over infinite bounces, but Russian Roulette is purely random and probability based, giving us an unbiased probability method of termination. &nbsp;</span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7 c11">Show some images rendered with global (direct and indirect) illumination. Use 1024 samples per pixel.</span></p><a id="t.dd6f818904bb75f98f143b7f430887bbfcf4da0b"></a><a id="t.4"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image42.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">CBbunny</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image28.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">CBspheres_lambertian</span></p></td></tr></table><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7">Pick one scene and compare rendered views first with only direct illumination, then only indirect illumination. Use 1024 samples per pixel. (You will have to edit </span><span class="c12">PathTracer::at_least_one_bounce_radiance(...)</span><span class="c7 c11">&nbsp;in your code to generate these views.)</span></p><a id="t.9c59d7d9bd5fc1ab15c371b8af966c763cbe6b6b"></a><a id="t.5"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image51.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Only Direct Lighting Bunny</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image8.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Only Indirect Lighting Bunny</span></p></td></tr></table><p class="c1"><span class="c7">Explanation:</span><span class="c2">&nbsp;These pictures highlight how only some parts of the scene are captured by direct lighting or indirect lighting. For example, only direct lighting includes the light at the top of the scene while indirect lighting reveals how the ceiling and underside of the bunny are accounted for and accumulated in the indirect lighting algorithm. Because it is indirect lighting and thus there is some energy less from bouncing, the indirect lighting picture is also dimmer. </span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7">For </span><span class="c7 c10">CBbunny.dae</span><span class="c7">, render the mth bounce of light with </span><span class="c12">max_ray_depth</span><span class="c7">&nbsp;set to 0, 1, 2, 3, 4, and 5 (the </span><span class="c12">-m</span><span class="c7">&nbsp;flag), and </span><span class="c12">isAccumBounces=false</span><span class="c7 c11">. Explain in your writeup what you see for the 2nd and 3rd bounce of light, and how it contributes to the quality of the rendered image compared to rasterization. Use 1024 samples per pixel.</span></p><a id="t.5f09ce5693c0d989569d1b8b0bf792fde4f33b84"></a><a id="t.6"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image36.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 0, isAccum = false</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image21.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 1, isAccum = false</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image13.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 2, isAccum = false</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image5.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 3, isAccum = false</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image4.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 4, isAccum = false</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image41.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 5, isAccum = false</span></p></td></tr></table><p class="c1"><span class="c2">Explain: As the mth bounce of light increases, so does the dimness/darkness of the rendered image. Like mentioned above, the light rays do not keep 100% of the energy after intersection and bounce, and thus there is less lighting when looking solely at more bounces without accumulation. In max_ray_depth = 2, we can see how the bounced rays render the underside of the bunny visible and not shadowy. In max_ray_depth = 3, the image gets generally darker and more even in terms of where in the scene is lit up. Upon accumulation of each of these scenes at a certain amount of bounces, we&rsquo;ll get a more accurate and realistic image than rasterization because we are more properly solving for how light rays will bounce from the light source to the surfaces/boundaries for various numbers of ray bounces. Rasterization would attempt to render the scene&rsquo;s lighting in one attempt by discretizing the object&rsquo;s shape and using logic to try to recreate the lighting effect. Therefore, the quality of the rendered image by accumulating bounces of light will be better compared to that of rasterization. </span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7">For </span><span class="c7 c10">CBbunny.dae</span><span class="c7">, compare rendered views with </span><span class="c12">max_ray_depth</span><span class="c7">&nbsp;set to 0, 1, 2, 3, 4, and 5(the </span><span class="c12">-m</span><span class="c7 c11">&nbsp;flag). Use 1024 samples per pixel.</span></p><a id="t.bc74eeb155f90d9fb50a0c41e3c7f3642dc7c15b"></a><a id="t.7"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image26.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 0</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image25.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 1</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image16.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 2</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image43.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 3</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image22.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 4</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image15.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 5</span></p></td></tr></table><p class="c1"><span class="c7">Explanation: </span><span class="c18">The biggest difference is between max_ray_depth = 0 and then max_ray_depth = 1, but the image quickly begins to converge by around max_ray_depth = 2 or 3. After that, the contribution of more bounces becomes fainter and fainter, really only providing marginally improvements to the quality of the image. </span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7">For </span><span class="c7 c10">CBbunny.dae</span><span class="c7">, output the Russian Roulette rendering with </span><span class="c12">max_ray_depth</span><span class="c7">&nbsp;set to 0, 1, 2, 3, 4, and 100(the </span><span class="c12">-m</span><span class="c7 c11">&nbsp;flag). Use 1024 samples per pixel.</span></p><a id="t.5513fd11dd15137f37bce5f020a52da271b2f9e6"></a><a id="t.8"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image32.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 0 </span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image38.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 1</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image39.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 2</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image49.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 3</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image47.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 4</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image14.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Max_ray_depth = 100</span></p></td></tr></table><p class="c1"><span class="c7">Explanation: </span><span class="c18">We see similar results with the previous table but now with Russian Roulette, we can be sure that we are returning unbiased results since the termination of the rendering is more probability based. </span><span class="c2">&nbsp;</span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7 c11">Pick one scene and compare rendered views with various sample-per-pixel rates, including at least 1, 2, 4, 8, 16, 64, and 1024. Use 4 light rays.</span></p><a id="t.c2218db1900a90f1455c8c663468d5221f807e7d"></a><a id="t.9"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image29.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">1 sample per pixel</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image19.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">2 samples per pixel</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image45.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">4 samples per pixel</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image3.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">8 samples per pixel</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image2.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">16 samples per pixel</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image17.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">64 samples per pixel</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 346.00px; height: 260.00px;"><img alt="" src="images/image10.png" style="width: 346.00px; height: 260.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">1024 samples per pixel</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6 c5"><span class="c2"></span></p></td></tr></table><p class="c1"><span class="c21">Explanation: </span><span class="c9">It is very apparent from these images that as we increase the sample rate, the graininess and noisiness of the picture decreases. We do need quite a lot of samples per pixel to address the noise, and our renders at 1024 rays per pixel took well over 20 minutes. The quality of the pictures at higher sampling rates is evidently really great. </span></p><p class="c1 c5"><span class="c15 c11"></span></p><p class="c14"><span class="c11 c13 c17">Part 5: Adaptive Sampling (20 Points) </span></p><p class="c1"><span class="c7">Explain adaptive sampling. Walk through your implementation of adaptive sampling.</span></p><p class="c1"><span class="c2">Instead of continuing to increase our sample rate to reduce noise, we can try to sample based on the convergence of each pixel and focus our sampling in areas of the image that are more difficult to render. Some pixels will not need a high sample rate, but others will so we can save computational load by understanding which situations require higher sampling rates and which don&rsquo;t. To do this, we implemented a simple statistical algorithm that measures each pixel&rsquo;s convergence (I = 1.96 * sigma/sqrt(n)) and checks if it exceeds a given maxTolerance * mean where sigma is the standard deviation and n is the present number of samples. If the convergence fits below this tolerance, then we can stop tracing additional rays. We were given 1.96 for the calculation of convergence, but this represents 95% confidence where the average pixel illuminance should be within mean - I and mean + I. In our implementation, we modified our raytrace_pixel from 1.2 by incorporating a convergence definition and checking inside the loop for each ray we generated. After each ray has been generated, we evaluate its lighting and also add it to our overall summation vector. Then, we use a modulo inside an if condition since it&rsquo;s quite intensive to check pixel convergence for every sample, so we&rsquo;ll only check every samplesPerBatch (which is given as 32). When we are evaluating convergence, we define s1 as the sum of the illuminance and s2 as the sum of the illuminance squared. This allows us to calculate the mean as s1 / n (samples so far) and sigma^2 = (1/n-1) * (s2 - s1^2/n). With a calculated standard deviation and mean, we can evaluate the convergence at the number of samples we have traversed so far and then break out if we meet the tolerance. We also need to update our samplecountBuffer with the number of samples we have traversed so far and update the pixel for the total lighting divided by the present number of samples.</span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1"><span class="c7 c11">Pick two scenes and render them with at least 2048 samples per pixel. Show a good sampling rate image with clearly visible differences in sampling rate over various regions and pixels. Include both your sample rate image, which shows how your adaptive sampling changes depending on which part of the image you are rendering, and your noise-free rendered result. Use 1 sample per light and at least 5 for max ray depth. </span></p><a id="t.e4ef624a4f8dfc74da265f879e22874d9e87379e"></a><a id="t.10"></a><table class="c8"><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 224.00px;"><img alt="" src="images/image1.png" style="width: 298.00px; height: 224.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Rendered Image Blob, -a 64, -l 1, -m 5</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 224.00px;"><img alt="" src="images/image48.png" style="width: 298.00px; height: 224.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Sample rate Image Blob</span></p></td></tr><tr class="c3"><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 224.00px;"><img alt="" src="images/image33.png" style="width: 298.00px; height: 224.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Render Image Bunny, -a 64, -l 1, -m 5</span></p></td><td class="c0" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 224.00px;"><img alt="" src="images/image9.png" style="width: 298.00px; height: 224.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c2">Sample rate Image Bunny</span></p></td></tr></table><p class="c1 c5"><span class="c2"></span></p><p class="c1 c5"><span class="c2"></span></p><p class="c1 c5"><span class="c2"></span></p><p class="c19"><span class="c2">Collaboration: Grace was the main implementer of parts 1-4 while Alex helped debug those parts and implemented part 5. Alex conducted all of the experiments and prepared the writeup. </span></p></body></html>